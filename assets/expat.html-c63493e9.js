import{_ as n,o as s,c as a,a as t}from"./app-dcb21b78.js";const e={},p=t(`<h1 id="ðŸ“”-php-xml-expat-parser" tabindex="-1"><a class="header-anchor" href="#ðŸ“”-php-xml-expat-parser" aria-hidden="true">#</a> ðŸ“” PHP XML Expat Parser</h1><h2 id="php-xml-expat-parser" tabindex="-1"><a class="header-anchor" href="#php-xml-expat-parser" aria-hidden="true">#</a> PHP XML Expat Parser</h2><p>O&#39;rnatilgan XML Expat Parser PHP da XML hujjatlarini qayta ishlash imkonini beradi.</p><p>XML Expat Parser Expat parser voqeaga asoslangan tahlilchidir.</p><p>Quyidagi XML fraktsiyasiga qarang:</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>from</span><span class="token punctuation">&gt;</span></span>Jani<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>from</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Hodisaga asoslangan tahlilchi yuqoridagi XML ni uchta voqea qatori sifatida xabar qiladi:</p><ul><li>Boshlash elementi: dan</li><li>CDATA qismini ishga tushiring, qiymat: Jani</li><li>Elementni yopish: dan</li></ul><p>XML Expat Parser funksiyalari PHP yadrosining bir qismidir. Ushbu funktsiyalardan foydalanish uchun o&#39;rnatish kerak emas.</p><p>XML fayli Quyidagi misolda &quot;note.xml&quot; XML faylidan foydalaniladi:</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>note</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>to</span><span class="token punctuation">&gt;</span></span>Tove<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>to</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>from</span><span class="token punctuation">&gt;</span></span>Jani<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>from</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>heading</span><span class="token punctuation">&gt;</span></span>Reminder<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>heading</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>Don&#39;t forget me this weekend!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>note</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>XML Expat Parser ishga tushirilmoqda</p><p>Biz PHP da XML Expat Parser dasturini ishga tushirmoqchimiz, turli XML hodisalari uchun ba&#39;zi ishlov beruvchilarni aniqlaymiz va keyin XML faylini tahlil qilmoqchimiz.</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// Initialize the XML parser</span>
<span class="token variable">$parser</span><span class="token operator">=</span><span class="token function">xml_parser_create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Function to use at the start of an element</span>
<span class="token keyword">function</span> <span class="token function-definition function">start</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">,</span><span class="token variable">$element_name</span><span class="token punctuation">,</span><span class="token variable">$element_attrs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">switch</span><span class="token punctuation">(</span><span class="token variable">$element_name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string double-quoted-string">&quot;NOTE&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;-- Note --&lt;br&gt;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string double-quoted-string">&quot;TO&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;To: &quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string double-quoted-string">&quot;FROM&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;From: &quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string double-quoted-string">&quot;HEADING&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Heading: &quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string double-quoted-string">&quot;BODY&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Message: &quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Function to use at the end of an element</span>
<span class="token keyword">function</span> <span class="token function-definition function">stop</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">,</span><span class="token variable">$element_name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Function to use when finding character data</span>
<span class="token keyword">function</span> <span class="token function-definition function">char</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">,</span><span class="token variable">$data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token variable">$data</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Specify element handler</span>
<span class="token function">xml_set_element_handler</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;start&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;stop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Specify data handler</span>
<span class="token function">xml_set_character_data_handler</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;char&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Open XML file</span>
<span class="token variable">$fp</span><span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;note.xml&quot;</span><span class="token punctuation">,</span><span class="token string double-quoted-string">&quot;r&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Read data</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$data</span><span class="token operator">=</span><span class="token function">fread</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">,</span><span class="token number">4096</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">xml_parse</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">,</span><span class="token variable">$data</span><span class="token punctuation">,</span><span class="token function">feof</span><span class="token punctuation">(</span><span class="token variable">$fp</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">or</span>
  <span class="token keyword">die</span> <span class="token punctuation">(</span><span class="token function">sprintf</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;XML Error: %s at line %d&quot;</span><span class="token punctuation">,</span>
  <span class="token function">xml_error_string</span><span class="token punctuation">(</span><span class="token function">xml_get_error_code</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">xml_get_current_line_number</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Free the XML parser</span>
<span class="token function">xml_parser_free</span><span class="token punctuation">(</span><span class="token variable">$parser</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Misol tushuntirildi:</p><ol><li>xml_parser_create()Funktsiya bilan XML parserni ishga tushiring</li><li>Turli hodisalarni ishlovchilar bilan foydalanish uchun funksiyalarni yarating</li><li>xml_set_element_handler()Tahlilchi ochish va yopish teglariga duch kelganda qaysi funktsiya bajarilishini belgilash uchun funktsiyani qo&#39;shing</li><li>xml_set_character_data_handler()Tahlil qiluvchi belgilar ma&#39;lumotlariga duch kelganda qaysi funktsiya bajarilishini belgilash uchun funktsiyani qo&#39;shing</li><li>xml_parse()Funktsiya bilan &quot;note.xml&quot; faylini tahlil qiling</li><li>Xato bo&#39;lsa, xml_error_string()XML xatosini matn tavsifiga aylantirish funksiyasini qo&#39;shing</li><li>Funktsiyaga xml_parser_free()ajratilgan xotirani bo&#39;shatish uchun funktsiyani chaqiringxml_parser_create()</li></ol>`,16),i=[p];function o(l,c){return s(),a("div",null,i)}const r=n(e,[["render",o],["__file","expat.html.vue"]]);export{r as default};
