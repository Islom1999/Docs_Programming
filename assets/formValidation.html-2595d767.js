import{_ as a,o as s,c as n,a as t}from"./app-dcb21b78.js";const i="/image_js/php14.png",o="/image_js/php15.png",p={},e=t('<h1 id="üìî-php-form-validation" tabindex="-1"><a class="header-anchor" href="#üìî-php-form-validation" aria-hidden="true">#</a> üìî PHP Form Validation</h1><h2 id="php-form-validation-php-formasini-tekshirish" tabindex="-1"><a class="header-anchor" href="#php-form-validation-php-formasini-tekshirish" aria-hidden="true">#</a> PHP Form Validation (PHP formasini tekshirish)</h2><p>Ushbu va keyingi boblar shakl ma&#39;lumotlarini tekshirish uchun PHP dan qanday foydalanishni ko&#39;rsatadi.</p><p>PHP formasini tekshirish</p><div class="custom-container warning"><p class="custom-container-title">Eslatma</p><p>PHP shakllarini qayta ishlashda XAVFSIZLIK haqida o&#39;ylang!</p><p>Ushbu sahifalar xavfsizlikni hisobga olgan holda PHP shakllarini qanday qayta ishlashni ko&#39;rsatadi. Shakl ma&#39;lumotlarini to&#39;g&#39;ri tekshirish sizning shaklingizni xakerlar va spamerlardan himoya qilish uchun muhimdir!</p></div><p>Ushbu boblarda biz ishlayotgan HTML formasi turli kiritish maydonlarini o&#39;z ichiga oladi: zarur va ixtiyoriy matn maydonlari, radio tugmalar va yuborish tugmasi:</p><img src="'+i+'"><p>Yuqoridagi shaklni tekshirish qoidalari quyidagicha:</p><img src="'+o+`"><p>Avval forma uchun oddiy HTML kodini ko&#39;rib chiqamiz:</p><p>Matn maydonlari</p><p>Ism, elektron pochta va veb-sayt maydonlari matn kiritish elementlari, sharh maydoni esa matn maydonidir. HTML kodi quyidagicha ko&#39;rinadi:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>Name<span class="token punctuation">:</span> <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;name&quot;</span><span class="token operator">&gt;</span>
<span class="token constant">E</span><span class="token operator">-</span>mail<span class="token punctuation">:</span> <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;email&quot;</span><span class="token operator">&gt;</span>
Website<span class="token punctuation">:</span> <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;website&quot;</span><span class="token operator">&gt;</span>
Comment<span class="token punctuation">:</span> <span class="token operator">&lt;</span>textarea name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;comment&quot;</span> rows<span class="token operator">=</span><span class="token string double-quoted-string">&quot;5&quot;</span> cols<span class="token operator">=</span><span class="token string double-quoted-string">&quot;40&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>textarea<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Radio tugmalari</p><p>Gender maydonlari radio tugmalari va HTML kodi quyidagicha ko&#39;rinadi:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>Gender<span class="token punctuation">:</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;radio&quot;</span> name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;gender&quot;</span> value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;female&quot;</span><span class="token operator">&gt;</span>Female
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;radio&quot;</span> name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;gender&quot;</span> value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;male&quot;</span><span class="token operator">&gt;</span>Male
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string double-quoted-string">&quot;radio&quot;</span> name<span class="token operator">=</span><span class="token string double-quoted-string">&quot;gender&quot;</span> value<span class="token operator">=</span><span class="token string double-quoted-string">&quot;other&quot;</span><span class="token operator">&gt;</span>Other
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Shakl elementi</p><p>Shaklning HTML kodi quyidagicha ko&#39;rinadi:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;PHP_SELF&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Eslatma</p><p>$_SERVER[&quot;PHP_SELF&quot;] o&#39;zgaruvchisi nima?</p><p>$_SERVER[&quot;PHP_SELF&quot;] hozirda bajarilayotgan skript fayl nomini qaytaradigan super global o&#39;zgaruvchidir.</p></div><p>Shunday qilib, $_SERVER[&quot;PHP_SELF&quot;] yuborilgan shakl ma&#39;lumotlarini boshqa sahifaga o&#39;tish o&#39;rniga sahifaning o&#39;ziga yuboradi. Shunday qilib, foydalanuvchi forma bilan bir xil sahifada xato xabarlarini oladi.</p><div class="custom-container warning"><p class="custom-container-title">Eslatma</p><p>htmlspecialchars() funksiyasi nima?</p><p>htmlspecialchars() funksiyasi maxsus belgilarni HTML ob&#39;ektlariga aylantiradi. Bu &lt; va &gt; kabi HTML belgilarni &lt; va &gt;. Bu HTML yoki Javascript kodlarini (saytlararo skript hujumlari) shakllarga kiritish orqali tajovuzkorlarning koddan foydalanishini oldini oladi.</p></div><p>PHP forma xavfsizligi bo&#39;yicha katta eslatma $_SERVER[&quot;PHP_SELF&quot;] o&#39;zgaruvchisi xakerlar tomonidan ishlatilishi mumkin!</p><p>Agar sahifangizda PHP_SELF ishlatilsa, foydalanuvchi slash (/) va keyin ba&#39;zi saytlararo skript (XSS) buyruqlarini bajarishi mumkin.</p><div class="custom-container warning"><p class="custom-container-title">Eslatma</p><p>Saytlararo skript (XSS) - bu odatda veb-ilovalarda topiladigan kompyuter xavfsizligi zaifligining bir turi. XSS tajovuzkorlarga boshqa foydalanuvchilar tomonidan ko&#39;riladigan veb-sahifalarga mijoz tomonidagi skriptni kiritish imkonini beradi.</p></div><p>&quot;test_form.php&quot; nomli sahifada quyidagi shakl mavjud deb faraz qilaylik:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;PHP_SELF&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Endi, agar foydalanuvchi &quot;http://www.example.com/test_form.php&quot; kabi manzillar qatoriga oddiy URL manzilini kiritsa, yuqoridagi kod quyidagiga tarjima qilinadi:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token operator">&lt;</span>form method<span class="token operator">=</span><span class="token string double-quoted-string">&quot;post&quot;</span> action<span class="token operator">=</span><span class="token string double-quoted-string">&quot;test_form.php&quot;</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Hozirgacha juda yaxshi.</p><p>Biroq, foydalanuvchi manzil satriga quyidagi URL manzilini kiritishini hisobga oling:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code>http<span class="token punctuation">:</span><span class="token comment">//www.example.com/test_form.php/%22%3E%3Cscript%3Ealert(&#39;hacked&#39;)%3C/script%3E</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Bunday holda, yuqoridagi kod quyidagiga tarjima qilinadi:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token operator">&lt;</span>form method<span class="token operator">=</span><span class="token string double-quoted-string">&quot;post&quot;</span> action<span class="token operator">=</span><span class="token string double-quoted-string">&quot;test_form.php/&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;hacked&#39;</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Ushbu kod skript yorlig&#39;i va ogohlantirish buyrug&#39;ini qo&#39;shadi. Va sahifa yuklanganda, JavaScript kodi bajariladi (foydalanuvchi ogohlantirish oynasini ko&#39;radi). Bu PHP_SELF o&#39;zgaruvchisidan qanday foydalanish mumkinligining oddiy va zararsiz misolidir.</p><p>Shuni yodda tutingki, har qanday JavaScript kodini &quot;script&quot; tegiga qo&#39;shish mumkin! Xaker foydalanuvchini boshqa serverdagi faylga yo&#39;naltirishi mumkin va bu faylda global o&#39;zgaruvchilarni o&#39;zgartirishi yoki foydalanuvchi ma&#39;lumotlarini saqlash uchun shaklni boshqa manzilga yuborishi mumkin bo&#39;lgan zararli kod bo&#39;lishi mumkin.</p><p>$_SERVER[&quot;PHP_SELF&quot;] ekspluatatsiyasini qanday oldini olish mumkin? $_SERVER[&quot;PHP_SELF&quot;] ekspluatatsiyasini htmlspecialchars() funksiyasi yordamida oldini olish mumkin.</p><p>Shakl kodi quyidagicha ko&#39;rinishi kerak:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;PHP_SELF&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>htmlspecialchars() funksiyasi maxsus belgilarni HTML ob&#39;ektlariga aylantiradi. Endi agar foydalanuvchi PHP_SELF o&#39;zgaruvchisidan foydalanishga harakat qilsa, bu quyidagi natijaga olib keladi:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token operator">&lt;</span>form method<span class="token operator">=</span><span class="token string double-quoted-string">&quot;post&quot;</span> action<span class="token operator">=</span><span class="token string double-quoted-string">&quot;test_form.php/&amp;quot;&amp;gt;&amp;lt;script&amp;gt;alert(&#39;hacked&#39;)&amp;lt;/script&amp;gt;&quot;</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Ekspluatatsiyaga urinish muvaffaqiyatsiz tugadi va hech qanday zarar yetkazilmaydi!</p><p>PHP yordamida forma ma&#39;lumotlarini tekshirish</p><p>Biz qiladigan birinchi narsa barcha o&#39;zgaruvchilarni PHP ning htmlspecialchars() funksiyasi orqali o&#39;tkazishdir.</p><p>Biz htmlspecialchars() funksiyasidan foydalanganda; agar foydalanuvchi matn maydoniga quyidagilarni yuborishga harakat qilsa:</p><p><code>&lt;script&gt;location.href(&#39;http://www.hacked.com&#39;)&lt;/script&gt;</code></p><ul><li>bu bajarilmaydi, chunki u HTMLdan qochish kodi sifatida saqlanadi, masalan:</li></ul><p><code>&lt;script&gt;location.href(&#39;http://www.hacked.com&#39;)&lt;/script&gt;</code></p><p>Kod endi sahifada yoki elektron pochta ichida ko&#39;rsatilishi mumkin.</p><p>Foydalanuvchi shaklni yuborganida biz yana ikkita narsani qilamiz:</p><ol><li><p>Foydalanuvchi kiritgan ma ºlumotlardan keraksiz belgilarni (qo ªshimcha bo ªsh joy, yorliq, yangi qator) olib tashlang (PHP trim() funksiyasi bilan)</p></li><li><p>Foydalanuvchi kiritgan ma ºlumotlardan teskari chiziqchalarni () olib tashlang (PHP stripslashes() funksiyasi bilan)</p></li></ol><p>Keyingi qadam biz uchun barcha tekshiruvlarni bajaradigan funktsiyani yaratishdir (bu bir xil kodni qayta-qayta yozishdan ko&#39;ra ancha qulayroq).</p><p>Biz test_input() funksiyasini nomlaymiz.</p><p>Endi biz har bir $_POST o&#39;zgaruvchisini test_input() funktsiyasi bilan tekshirishimiz mumkin va skript quyidagicha ko&#39;rinadi:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// define variables and set to empty values</span>
<span class="token variable">$name</span> <span class="token operator">=</span> <span class="token variable">$email</span> <span class="token operator">=</span> <span class="token variable">$gender</span> <span class="token operator">=</span> <span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token variable">$website</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;REQUEST_METHOD&quot;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string double-quoted-string">&quot;POST&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;name&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$email</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;email&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$website</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;website&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$comment</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;comment&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$gender</span> <span class="token operator">=</span> <span class="token function">test_input</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string double-quoted-string">&quot;gender&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-definition function">test_input</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">trim</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">stripslashes</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token variable">$data</span> <span class="token operator">=</span> <span class="token function">htmlspecialchars</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token variable">$data</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>E&#39;tibor bering, skript boshida biz shakl $_SERVER[&quot;REQUEST_METHOD&quot;] yordamida yuborilganligini tekshiramiz. Agar REQUEST_METHOD POST bo&#39;lsa, shakl yuborilgan va u tasdiqlanishi kerak. Agar u yuborilmagan bo&#39;lsa, tekshirishni o&#39;tkazib yuboring va bo&#39;sh shaklni ko&#39;rsating.</p><p>Biroq, yuqoridagi misolda barcha kiritish maydonlari ixtiyoriy. Foydalanuvchi hech qanday ma&#39;lumot kiritmasa ham, skript yaxshi ishlaydi.</p><p>Keyingi qadam, kiritish maydonlarini talab qilish va kerak bo&#39;lganda xato xabarlarini yaratishdir.</p>`,58),l=[e];function r(u,c){return s(),n("div",null,l)}const k=a(p,[["render",r],["__file","formValidation.html.vue"]]);export{k as default};
