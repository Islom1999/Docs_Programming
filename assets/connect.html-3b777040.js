import{_ as a,o as n,c as s,a as i}from"./app-1c9dd427.js";const t={},e=i(`<h1 id="ðŸ“”-php-connect-to-mysql" tabindex="-1"><a class="header-anchor" href="#ðŸ“”-php-connect-to-mysql" aria-hidden="true">#</a> ðŸ“” PHP Connect to MySQL</h1><h2 id="php-connect-to-mysql-mysql-ga-ulanish" tabindex="-1"><a class="header-anchor" href="#php-connect-to-mysql-mysql-ga-ulanish" aria-hidden="true">#</a> PHP Connect to MySQL (MySQL ga ulanish)</h2><p>PHP 5 va undan keyingi versiyalari MySQL ma&#39;lumotlar bazasi bilan ishlashlari mumkin:</p><ul><li>MySQLi kengaytmasi (&quot;i&quot; yaxshilangan degan ma&#39;noni anglatadi)</li><li>PDO (PHP ma&#39;lumotlar ob&#39;ektlari)</li></ul><p>PHP ning oldingi versiyalarida MySQL kengaytmasi ishlatilgan. Biroq, bu kengaytma 2012 yilda bekor qilingan.</p><p>MySQLi yoki PDO dan foydalanishim kerakmi? Agar sizga qisqa javob kerak bo&#39;lsa, u &quot;Sizga yoqadigan narsa&quot; bo&#39;ladi.</p><p>MySQLi ham, PDO ham o&#39;zlarining afzalliklariga ega:</p><p>PDO 12 xil ma&#39;lumotlar bazasi tizimlarida ishlaydi, MySQLi esa faqat MySQL ma&#39;lumotlar bazalari bilan ishlaydi.</p><p>Shunday qilib, agar siz loyihangizni boshqa ma&#39;lumotlar bazasidan foydalanishga o&#39;tkazishingiz kerak bo&#39;lsa, PDO jarayonni osonlashtiradi. Siz faqat ulanish qatorini va bir nechta so&#39;rovlarni o&#39;zgartirishingiz kerak. MySQLi bilan siz butun kodni qayta yozishingiz kerak bo&#39;ladi - so&#39;rovlar kiritilgan.</p><p>Ikkalasi ham ob&#39;ektga yo&#39;naltirilgan, ammo MySQLi protsessual APIni ham taklif qiladi.</p><p>Ikkalasi ham Tayyorlangan bayonotlarni qo&#39;llab-quvvatlaydi. Tayyorlangan bayonotlar SQL in&#39;ektsiyasidan himoya qiladi va veb-ilovalar xavfsizligi uchun juda muhimdir.</p><p>MySQLi va PDO sintaksisida MySQL misollari</p><p>Bu va keyingi boblarda biz PHP va MySQL bilan ishlashning uchta usulini ko&#39;rsatamiz:</p><ul><li>MySQLi (ob&#39;ektga yo&#39;naltirilgan)</li><li>MySQLi (protsessual)</li><li>PDO</li></ul><p>MySQLi o&#39;rnatish Linux va Windows uchun: MySQLi kengaytmasi ko&#39;p hollarda php5 MySQL paketi o&#39;rnatilganda avtomatik ravishda o&#39;rnatiladi.</p><p>O&#39;rnatish tafsilotlari uchun quyidagi manzilga o&#39;ting: http://php.net/manual/en/mysqli.installation.php</p><p>PDO o&#39;rnatish O&#39;rnatish tafsilotlari uchun quyidagi manzilga o&#39;ting: http://php.net/manual/en/pdo.installation.php</p><p>MySQL-ga ulanishni oching</p><p>MySQL ma&#39;lumotlar bazasidagi ma&#39;lumotlarga kirishdan oldin serverga ulanish imkoniyatiga ega bo&#39;lishimiz kerak:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$servername</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$username</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$password</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Create connection</span>
<span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mysqli</span><span class="token punctuation">(</span><span class="token variable">$servername</span><span class="token punctuation">,</span> <span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Check connection</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token operator">-&gt;</span><span class="token property">connect_error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Connection failed: &quot;</span> <span class="token operator">.</span> <span class="token variable">$conn</span><span class="token operator">-&gt;</span><span class="token property">connect_error</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Connected successfully&quot;</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Eslatma</p><p>Yuqoridagi ob&#39;ektga yo&#39;naltirilgan misolga e&#39;tibor bering:</p><p>$connect_error PHP 5.2.9 va 5.3.0gacha buzildi. Agar 5.2.9 va 5.3.0 dan oldingi PHP versiyalari bilan mosligini ta&#39;minlash kerak bo&#39;lsa, uning o&#39;rniga quyidagi koddan foydalaning:</p><p>// Agar ulanishni tekshiring (mysqli_connect_error()) { die(&quot;Ma&#39;lumotlar bazasiga ulanish muvaffaqiyatsiz tugadi: &quot; . mysqli_connect_error()); }</p></div><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$servername</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$username</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$password</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Create connection</span>
<span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token function">mysqli_connect</span><span class="token punctuation">(</span><span class="token variable">$servername</span><span class="token punctuation">,</span> <span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Check connection</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$conn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Connection failed: &quot;</span> <span class="token operator">.</span> <span class="token function">mysqli_connect_error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Connected successfully&quot;</span><span class="token punctuation">;</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$servername</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;localhost&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$username</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;username&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$password</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;password&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
  <span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDO</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;mysql:host=<span class="token interpolation"><span class="token variable">$servername</span></span>;dbname=myDB&quot;</span><span class="token punctuation">,</span> <span class="token variable">$username</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// set the PDO error mode to exception</span>
  <span class="token variable">$conn</span><span class="token operator">-&gt;</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">ATTR_ERRMODE</span><span class="token punctuation">,</span> <span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">ERRMODE_EXCEPTION</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Connected successfully&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">PDOException</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;Connection failed: &quot;</span> <span class="token operator">.</span> <span class="token variable">$e</span><span class="token operator">-&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter important">?&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Eslatma</p><p>Eslatma: Yuqoridagi PDO misolida biz ma&#39;lumotlar bazasini (myDB) ham ko&#39;rsatdik . PDO ulanish uchun tegishli ma&#39;lumotlar bazasini talab qiladi. Agar ma&#39;lumotlar bazasi ko&#39;rsatilmagan bo&#39;lsa, istisno chiqariladi.</p></div><p>Maslahat: PDO ning katta afzalligi shundaki, u bizning ma&#39;lumotlar bazasi so&#39;rovlarimizda yuzaga kelishi mumkin bo&#39;lgan har qanday muammolarni hal qilish uchun istisno sinfiga ega. Agar try{ } blokida istisno o&#39;rnatilgan bo&#39;lsa, skript ishlashni to&#39;xtatadi va to&#39;g&#39;ridan-to&#39;g&#39;ri birinchi catch(){ } blokiga o&#39;tadi.</p><p>Ulanishni yoping Skript tugashi bilan ulanish avtomatik ravishda yopiladi. Avval ulanishni yopish uchun quyidagilarni foydalaning:</p><div class="language-php line-numbers-mode" data-ext="php"><pre class="language-php"><code><span class="token variable">$conn</span><span class="token operator">-&gt;</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">mysqli_close</span><span class="token punctuation">(</span><span class="token variable">$conn</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$conn</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,27),o=[e];function p(l,c){return n(),s("div",null,o)}const u=a(t,[["render",p],["__file","connect.html.vue"]]);export{u as default};
